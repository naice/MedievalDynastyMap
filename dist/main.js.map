{"version":3,"sources":["./src/app/static-data.ts","./src/app/map-marker-storage.ts","./src/app/map-marker.ts","./src/app/map-marker-editor/map-marker-editor.controller.ts","./src/app/kv-storage/kv-storage-provider-factory.ts","./src/environments/environment.ts","./src/app/kv-storage/remote-storage-provider.ts","./src/app/menu-bar/menu-bar.component.ts","./src/app/menu-bar/menu-bar.component.html","./src/app/map-marker-editor/map-marker-editor.component.ts","./src/app/map-marker-editor/map-marker-editor.component.html","./src/app/map-marker/map-marker.component.ts","./src/app/map-marker/map-marker.component.html","./src/app/kv-storage/local-storage-provider.ts","./src/app/map-marker-city/map-marker-city.component.ts","./src/app/map-marker-city/map-marker-city.component.html","./src/app/city-detail/city-detail.component.ts","./src/app/city-detail/city-detail.component.html","./src/app/map-marker-filter/map-marker-filter.controller.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/upload-image/upload-image.component.ts","./src/app/upload-image/upload-image.component.html","./src/app/map-marker-base-component.ts","./src/app/app.module.ts","./src/app/map-api-provider.ts","./src/app/app.constants.ts","./src/app/map-marker-type.enum.ts","./src/app/kv-storage/ik-storage-provider.ts","./src/app/goods-items.pipe.ts","./src/app/map-marker-filter/map-marker-filter.component.ts","./src/app/map-marker-filter/map-marker-filter.component.html","./src/app/city-detail-dialog-provider.ts","./src/app/city-jumper/city-jumper.component.ts","./src/app/city-jumper/city-jumper.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["\r\nimport StaticCities from '../assets/data/cities.json';\r\nimport StaticMapMarkers from '../assets/data/map-markers.json';\r\nimport StaticPersons from '../assets/data/persons.json';\r\nimport StaticItems from '../assets/data/items.json';\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { MapMarker } from './map-marker';\r\n\r\nexport enum ItemType {\r\n  Weapon = \"Weapon\",\r\n  Food = \"Food\",\r\n  Misc = \"Misc\",\r\n  Cloth = \"Cloth\",\r\n  Tool = \"Tool\",\r\n  Seed = \"Seed\",\r\n  Resource = \"Resource\",\r\n  Animal = \"Animal\",\r\n}\r\n\r\nexport class Item {\r\n    id: string\r\n    name: string\r\n    icon: string\r\n    type: ItemType\r\n    price: number\r\n    germanName: string\r\n}\r\nexport class Good {\r\n    id: string\r\n    price: number\r\n}\r\nexport class City {\r\n    id: string\r\n    name: string\r\n    goods: Good[]\r\n}\r\nexport class Person {\r\n    id: string\r\n    name: string\r\n    cityId: string\r\n    goods: Good[]\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class CityData {\r\n  public cities: City[] = StaticCities as City[];\r\n\r\n  public getCityBy(marker: MapMarker): City {\r\n    return this.cities.find(city => city.id == marker.payloadId);\r\n  }\r\n}\r\n@Injectable({ providedIn: 'root' })\r\nexport class ItemData {\r\n  public items: Item[] = StaticItems as Item[];\r\n  public getItemByGood(good: Good): Item  {\r\n    return this.getItemByGoodId(good.id);\r\n  }\r\n  getItemByGoodId(id: string): Item {\r\n    return this.items.find(item => item.id == id);\r\n  }\r\n}\r\n@Injectable({ providedIn: 'root' })\r\nexport class MapMarkerData {\r\n  public mapMarkers: MapMarker[] = StaticMapMarkers as MapMarker[];\r\n}\r\n@Injectable({ providedIn: 'root' })\r\nexport class PersonData {\r\n  public persons: Person[] = StaticPersons as Person[];\r\n  public getPersonsByCity(city: City): Person[] {\r\n    return this.getPersonsByCityId(city.id);\r\n  }\r\n  getPersonsByCityId(id: string): Person[] {\r\n    return this.persons.filter(person => person.cityId == id);\r\n  }\r\n}\r\n","import { EventEmitter, Injectable } from '@angular/core';\r\nimport { KVStorageProvider } from './kv-storage/ik-storage-provider';\r\nimport { MapMarker } from './map-marker';\r\nimport { environment } from 'src/environments/environment';\r\nimport { MapMarkerType } from './map-marker-type.enum';\r\nimport { CityData, MapMarkerData } from './static-data';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class MapMarkerStorage {\r\n  public markers: MapMarker[] = [];\r\n  public addedEvent: EventEmitter<MapMarker> = new EventEmitter<MapMarker>();\r\n  public removedEvent: EventEmitter<MapMarker> = new EventEmitter<MapMarker>();\r\n  public storageKey: string = 'mapMarkersStorage';\r\n\r\n  constructor(\r\n    private _storageProvider: KVStorageProvider,\r\n    private mapMarkerData: MapMarkerData,\r\n    private _cityData: CityData,\r\n  ) {}\r\n\r\n  public async load(forceResetDefault: boolean = false): Promise<void> {\r\n    // clear all\r\n    this.markers.length = 0;\r\n    // load from storage\r\n    let loadedMarkers: MapMarker[] = await this._storageProvider.load<MapMarker[]>(this.storageKey, null).toPromise();\r\n\r\n    // try load from static map markers\r\n    if (forceResetDefault || loadedMarkers === null) {\r\n      console.log('no map markers, loading from static data');\r\n      if (environment.production) {\r\n        loadedMarkers = this.mapMarkerData.mapMarkers;\r\n      } else {\r\n        console.log('could not load map markers');\r\n        return;\r\n      }\r\n    } else {\r\n      await this.tryUpgrade01(loadedMarkers);\r\n    }\r\n\r\n    for (const marker of loadedMarkers) {\r\n      this.addInternal(marker);\r\n    }\r\n  }\r\n\r\n  async tryUpgrade01(markers: MapMarker[]): Promise<void> {\r\n    if (!markers.some(marker => marker.type === MapMarkerType.CITY && !marker.payloadId)) {\r\n      console.log('upgrade 01 not needed');\r\n      return;\r\n    }\r\n    console.log('doing upgrade 01');\r\n    markers\r\n      .filter(marker => marker.type === MapMarkerType.CITY && !marker.payloadId)\r\n      .forEach(marker => marker.payloadId = this._cityData.cities.find(city => {\r\n        let markerCityName = (marker as any).payload.name;\r\n        if (markerCityName === \"Raimund\") {\r\n          markerCityName = \"Rajmund\";\r\n        }\r\n        return city.name === markerCityName;\r\n      }).id);\r\n\r\n    this.storeInternal(markers);\r\n  }\r\n\r\n  public store(): Promise<boolean> {\r\n    return this.storeInternal(this.markers);\r\n  }\r\n\r\n  private storeInternal(markers: MapMarker[]): Promise<boolean> {\r\n    return this._storageProvider.store(this.storageKey, markers).toPromise();\r\n  }\r\n\r\n  private addInternal(marker: MapMarker) {\r\n    this.markers.push(marker);\r\n    this.addedEvent.emit(marker);\r\n  }\r\n\r\n  public add(marker: MapMarker) {\r\n    this.addInternal(marker);\r\n    this.store();\r\n  }\r\n\r\n  public async removeAll(): Promise<boolean> {\r\n    while (this.markers.length > 0) {\r\n      await this.remove(this.markers[0].id, false);\r\n    }\r\n    return await this.store();\r\n  }\r\n\r\n  public async removeCustomMarkers(): Promise<boolean> {\r\n    const dontDeleteMarkerTypes = [\r\n      MapMarkerType.CITY,\r\n    ]\r\n    for (let index = this.markers.length-1; index >= 0; index--) {\r\n      const marker = this.markers[index];\r\n      if(dontDeleteMarkerTypes.some(type => type === marker.type)) {\r\n        continue;\r\n      }\r\n      await this.remove(marker.id, false);\r\n    }\r\n    return await this.store();\r\n  }\r\n\r\n  public async remove(id: string, store: boolean = true): Promise<boolean> {\r\n    const i = this.markers.findIndex(marker => marker.id === id);\r\n    if (i === -1) {\r\n      return false;\r\n    }\r\n    const marker = this.markers[i];\r\n    this.markers.splice(i, 1);\r\n    this.removedEvent.emit(marker);\r\n    if (store) {\r\n      return await this.store();\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public async resetAll(): Promise<void> {\r\n    await this.load(true);\r\n    await this.store();\r\n  }\r\n}\r\n","import { MapMarkerType } from './map-marker-type.enum';\r\n\r\nexport class MapMarkerOrigin {\r\n  x:number;\r\n  y:number;\r\n}\r\nexport class MapMarker {\r\n  id: string;\r\n  origin: MapMarkerOrigin;\r\n  type: MapMarkerType;\r\n  payloadId?: string;\r\n  payload?: any;\r\n}\r\n","import { EventEmitter, Injectable } from '@angular/core';\r\nimport { MapMarkerOrigin } from '../map-marker';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MapMarkerEditorController {\r\n  public eventOnCreateMapMarker: EventEmitter<MapMarkerOrigin> = new EventEmitter<MapMarkerOrigin>();\r\n  public eventOnChangeEditMode: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  public isEditMode: boolean = false;\r\n\r\n  constructor() {\r\n    this.eventOnChangeEditMode.subscribe((isEditMode: boolean) => this.isEditMode = isEditMode);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { KVStorageProvider } from './ik-storage-provider';\r\nimport { LocalStorageProvider } from './local-storage-provider';\r\nimport { RemoteStorageProvider } from './remote-storage-provider';\r\n\r\nexport const KVStorageProviderFactory = (httpClient: HttpClient): KVStorageProvider => {\r\n  if (environment.production) {\r\n    return new LocalStorageProvider();\r\n  }\r\n\r\n  return new RemoteStorageProvider(httpClient);\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nimport { ɵbypassSanitizationTrustResourceUrl } from '@angular/core';\n\nexport const environment = {\n  production: true\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { from, Observable } from 'rxjs';\r\nimport { KVStorageProvider } from './ik-storage-provider';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class RemoteStorageProvider extends KVStorageProvider {\r\n\r\n  private baseUrl: string;\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n    super();\r\n    this.baseUrl = 'http://localhost:50120/';\r\n  }\r\n\r\n  store<T>(key: string, data: T): Observable<boolean> {\r\n    return this.http.post<boolean>(this.baseUrl + key, JSON.stringify(data, null, 4));\r\n  }\r\n  load<T>(key: string, defaultValue?: T): Observable<T> {\r\n    const promise = new Promise<T>(async (resolve) => {\r\n      let result: T = null;\r\n      try { result = await this.http.get<T>(this.baseUrl + key).toPromise(); }\r\n      catch (error) {\r\n        console.log('RemoteStorageProvider.load', error)\r\n        result = defaultValue;\r\n      }\r\n      resolve(result);\r\n    });\r\n\r\n    return from(promise);\r\n  }\r\n}\r\n","import { animate, state, style, transition, trigger } from '@angular/animations';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { MAP_MENU_WIDTH } from '../app.constants';\n\n@Component({\n  selector: 'app-menu-bar',\n  templateUrl: './menu-bar.component.html',\n  styleUrls: ['./menu-bar.component.scss'],\n  animations: [\n    trigger('openClose', [\n      // ...\n      state('open', style({\n        left: '0px',\n      })),\n      state('closed', style({\n        left: '-'+MAP_MENU_WIDTH+'px',\n      })),\n      transition('open => closed', [\n        animate('250ms cubic-bezier(0.35, 0, 0.25, 1)')\n      ]),\n      transition('closed => open', [\n        animate('250ms cubic-bezier(0.35, 0, 0.25, 1)')\n      ]),\n    ]),\n  ],\n})\nexport class MenuBarComponent implements OnInit {\n\n  @Input()\n  public isOpen = true;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  public toggle() {\n    this.isOpen = !this.isOpen;\n  }\n\n}\n","<div [@openClose]=\"isOpen ? 'open' : 'closed'\" class=\"menu-bar scrollbar-primary\">\n  <ng-content></ng-content>\n</div>\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { UUID } from 'angular2-uuid';\nimport { Subscription } from 'rxjs';\nimport { MapMarker, MapMarkerOrigin } from '../map-marker';\nimport { MapMarkerFilterController } from '../map-marker-filter/map-marker-filter.controller';\nimport { MapMarkerStorage } from '../map-marker-storage';\nimport { MapMarkerType, MapMarkerTypeResource } from '../map-marker-type.enum';\nimport { MapMarkerEditorController } from './map-marker-editor.controller';\n\nexport interface MapMarkerTypeOption {\n  displayText: string;\n  type: MapMarkerType;\n}\n\n@Component({\n  selector: 'app-map-marker-editor',\n  templateUrl: './map-marker-editor.component.html',\n  styleUrls: ['./map-marker-editor.component.scss']\n})\nexport class MapMarkerEditorComponent extends MapMarkerTypeResource implements OnInit, OnDestroy {\n\n  @Input()\n  public selectedMapMarkerTypes: MapMarkerType[] = [ MapMarkerType.BEAR ];\n  public mapMarkerTypes: MapMarkerType[] = Object.keys(MapMarkerType).map(k=> MapMarkerType[k]).filter(type => type != MapMarkerType.CITY);\n\n  @Input()\n  public get isEditorEnabled(): boolean {\n    return this._isEditorEnabled;\n  }\n  public set isEditorEnabled(value: boolean) {\n    if (value === this._isEditorEnabled) {\n      return;\n    }\n    this._isEditorEnabled = value;\n    this._mapMarkerEditorController.eventOnChangeEditMode.emit(value);\n  }\n\n  private _subs: Subscription[] = [];\n  private _isEditorEnabled: boolean;\n\n  constructor(\n    public mapMarkerStorage: MapMarkerStorage,\n    private _mapMarkerEditorController: MapMarkerEditorController,\n    private _mapMarkerFilterController: MapMarkerFilterController,\n  ) {\n    super();\n\n  }\n  ngOnDestroy(): void {\n    this._subs.forEach(sub => sub.unsubscribe());\n  }\n\n  ngOnInit(): void {\n    this._subs.push(this._mapMarkerEditorController.eventOnCreateMapMarker.subscribe((origin: MapMarkerOrigin) => this.onCreateMapMarker(origin)));\n  }\n\n  onCreateMapMarker(origin: MapMarkerOrigin) {\n    const type = this.selectedMapMarkerTypes[0];\n    const id = UUID.UUID();\n    const mapMarker: MapMarker = { id, origin, type };\n    /*\n    if (type == MapMarkerType.CITY) {\n      mapMarker.payload = {\n        name: 'Sambor',\n        persons: [\n          {\n            name: 'dummy person 1',\n            sellingItemIds: ['T_Icon_Apple.png', 'T_Icon_Crossbow.png'],\n          },\n          {\n            name: 'dummy person 2',\n            sellingItemIds: ['T_Icon_Apple.png', 'T_Icon_Crossbow.png'],\n          },\n        ]\n      };\n    }\n    */\n    this._mapMarkerFilterController.ensureEnabled(type);\n    this.mapMarkerStorage.add(mapMarker);\n  }\n}\n","<h3 matSubheader>Select a marker type and double click the map!</h3>\n<mat-selection-list [(ngModel)]=\"selectedMapMarkerTypes\" [multiple]=\"false\">\n  <mat-list-option [value]=\"markerType\" *ngFor=\"let markerType of mapMarkerTypes\">\n    <img matListAvatar [src]=\"getImageSrc(markerType)\" class=\"no-select\">\n    <span class=\"no-select\">{{markerType}}</span>\n  </mat-list-option>\n</mat-selection-list>\n<h3 matSubheader>Reset all Map Markers to default.</h3>\n<div class=\"editor__reset-container\">\n  <div>\n    <button #resetButton mat-raised-button disabled color=\"warn\" (click)=\"mapMarkerStorage.resetAll()\">Reset</button>\n  </div>\n  <div>\n    <mat-label ngClass=\"editor__reset-slide-label\">can't be undone!</mat-label>\n    <mat-slide-toggle (change)=\"resetButton.disabled = !$event.checked\" color=\"warn\"></mat-slide-toggle>\n  </div>\n</div>\n<h3 matSubheader>Remove all Map Markers.</h3>\n<div class=\"editor__reset-container\">\n  <div>\n    <button #clearButton mat-raised-button disabled color=\"warn\" (click)=\"mapMarkerStorage.removeCustomMarkers()\">Clear</button>\n  </div>\n  <div>\n    <mat-label ngClass=\"editor__reset-slide-label\">can't be undone!</mat-label>\n    <mat-slide-toggle (change)=\"clearButton.disabled = !$event.checked\" color=\"warn\"></mat-slide-toggle>\n  </div>\n</div>\n\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { MapMarkerFilterController } from '../map-marker-filter/map-marker-filter.controller';\nimport { MapMarker } from '../map-marker';\nimport { MapMarkerStorage } from '../map-marker-storage';\nimport { MapMarkerBaseComponent } from '../map-marker-base-component';\nimport { MapMarkerEditorController } from '../map-marker-editor/map-marker-editor.controller';\n\n@Component({\n  selector: 'app-map-marker',\n  templateUrl: './map-marker.component.html',\n  styleUrls: ['./map-marker.component.scss']\n})\nexport class MapMarkerComponent extends MapMarkerBaseComponent implements OnInit, OnDestroy {\n\n  constructor(\n    mapMarker: MapMarker,\n    mapMarkerStorage: MapMarkerStorage,\n    mapMarkerFilterController: MapMarkerFilterController,\n    mapMarkerEditorController: MapMarkerEditorController,\n  ) {\n    super(mapMarker, mapMarkerStorage, mapMarkerFilterController, mapMarkerEditorController);\n    super.width = 264;\n    super.height = 264;\n  }\n  ngOnDestroy(): void {\n    super.OnDestroy();\n  }\n  ngOnInit(): void {\n    super.OnInit();\n  }\n\n}\n","<div\n  *ngIf=\"visible\"\n  class=\"no-select\"\n  style=\"position: absolute; background-size: 100% 100%;\"\n  [style.backgroundImage]=\"getImageSrcUrl(mapMarker.type)\"\n  [style.width.px]=\"width\"\n  [style.height.px]=\"height\"\n  [style.left.px]=\"mapMarker.origin.x - (width / 2)\"\n  [style.top.px]=\"mapMarker.origin.y - (height / 2)\">\n  <button\n    *ngIf=\"isEditMode\"\n    class=\"no-select\"\n    [style.marginLeft.px]=\"(width / 2) - 20\"\n    mat-mini-fab aria-label=\"Remove Map Marker\"\n    (click)=\"onDelete()\">\n    <mat-icon >delete</mat-icon>\n  </button>\n</div>\n","import { Injectable } from '@angular/core';\r\nimport { EMPTY, from, Observable } from 'rxjs';\r\nimport { KVStorageProvider } from './ik-storage-provider';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class LocalStorageProvider extends KVStorageProvider {\r\n\r\n  public store<T>(key: string, data: T): Observable<boolean> {\r\n    window.localStorage.setItem(key, JSON.stringify(data));\r\n    return from([true]);\r\n  }\r\n\r\n  public load<T>(key: string, defaultValue?: T): Observable<T> {\r\n    let rval: T = defaultValue;\r\n    try {\r\n      const raw = window.localStorage.getItem(key);\r\n      if (raw !== null) {\r\n        rval = JSON.parse(window.localStorage.getItem(key));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    return from([rval]);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\nimport { CityDetailDialogProvider } from '../city-detail-dialog-provider';\nimport { MapMarker } from '../map-marker';\nimport { MapMarkerBaseComponent } from '../map-marker-base-component';\nimport { MapMarkerEditorController } from '../map-marker-editor/map-marker-editor.controller';\nimport { MapMarkerFilterController } from '../map-marker-filter/map-marker-filter.controller';\nimport { MapMarkerStorage } from '../map-marker-storage';\nimport { City } from '../static-data';\n\n@Component({\n  selector: 'app-map-marker-city',\n  templateUrl: './map-marker-city.component.html',\n  styleUrls: ['./map-marker-city.component.scss']\n})\nexport class MapMarkerCityComponent extends MapMarkerBaseComponent {\n\n  constructor(\n    mapMarker: MapMarker,\n    mapMarkerStorage: MapMarkerStorage,\n    mapMarkerFilterController: MapMarkerFilterController,\n    mapMarkerEditorController: MapMarkerEditorController,\n\n    public city: City,\n    public dialogProvider: CityDetailDialogProvider,\n  ) {\n    super(mapMarker, mapMarkerStorage, mapMarkerFilterController, mapMarkerEditorController);\n    super.width = 512;\n    super.height = 91;\n  }\n  ngOnDestroy(): void {\n    super.OnDestroy();\n  }\n  ngOnInit(): void {\n    super.OnInit();\n  }\n}\n","<div\n  *ngIf=\"visible\"\n  class=\"no-select map-marker-city\"\n  [style.backgroundImage]=\"'url(assets/markers/city_marker.png)'\"\n  [style.width.px]=\"width\"\n  [style.height.px]=\"height\"\n  [style.left.px]=\"mapMarker.origin.x - (width / 2)\"\n  [style.top.px]=\"mapMarker.origin.y - (height / 2)\">\n  <!-- 363,48 -->\n  <div class=\"no-select map-marker-city__marker-title\">\n    <a (click)=\"dialogProvider.showCityDialog(this.city)\" style=\"cursor: pointer;\">{{city.name}}</a>\n  </div>\n  <button\n    *ngIf=\"isEditMode\"\n    class=\"no-select\"\n    [style.marginLeft.px]=\"(width) - 20\"\n    mat-mini-fab aria-label=\"Remove Map Marker\"\n    (click)=\"onDelete()\">\n    <mat-icon >delete</mat-icon>\n  </button>\n</div>\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { City, Item, Person } from '../static-data';\n\nexport interface CityDetailDialogData {\n  city: City,\n  persons: Person[],\n}\n\n@Component({\n  selector: 'app-city-detail',\n  templateUrl: './city-detail.component.html',\n  styleUrls: ['./city-detail.component.scss']\n})\nexport class CityDetailComponent implements OnInit {\n\n  goodsDisplayedColumns: string[] = ['name', 'price'];\n\n  constructor(\n    public dialogRef: MatDialogRef<CityDetailComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: CityDetailDialogData,\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<h2 mat-dialog-title>{{data.city.name}}</h2>\n<mat-dialog-content class=\"city-detail__content scrollbar-primary\">\n\n  <div class=\"city-detail__data\" *ngIf=\"data.city.goods.length > 0\">\n    <div>Animals</div>\n    <table mat-table [dataSource]=\"data.city.goods | goodsToItems\" class=\"city-detail__goods-table mat-elevation-z8\">\n      <!-- icon Column -->\n      <ng-container matColumnDef=\"icon\">\n        <th mat-header-cell *matHeaderCellDef> </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.icon}} </td>\n      </ng-container>\n\n      <!-- name Column -->\n      <ng-container matColumnDef=\"name\">\n        <th mat-header-cell *matHeaderCellDef> Name </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\n      </ng-container>\n\n      <!-- type Column -->\n      <ng-container matColumnDef=\"type\">\n        <th mat-header-cell *matHeaderCellDef> Type </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.type}} </td>\n      </ng-container>\n\n      <!-- price Column -->\n      <ng-container matColumnDef=\"price\">\n        <th mat-header-cell *matHeaderCellDef> Price </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.price}} </td>\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef=\"goodsDisplayedColumns\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: goodsDisplayedColumns;\"></tr>\n    </table>\n  </div>\n\n  <div *ngFor=\"let person of data.persons\" class=\"city-detail__data\">\n    <div>{{person.name}}</div>\n    <table mat-table [dataSource]=\"person.goods | goodsToItems\" class=\"city-detail__goods-table mat-elevation-z8\">\n      <!-- name Column -->\n      <ng-container matColumnDef=\"name\">\n        <th mat-header-cell *matHeaderCellDef> Name </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\n      </ng-container>\n      <!-- price Column -->\n      <ng-container matColumnDef=\"price\">\n        <th mat-header-cell *matHeaderCellDef> Price </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.price}} </td>\n      </ng-container>\n      <tr mat-header-row *matHeaderRowDef=\"goodsDisplayedColumns\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: goodsDisplayedColumns;\"></tr>\n    </table>\n  </div>\n\n</mat-dialog-content>\n<mat-dialog-actions align=\"end\">\n  <button mat-button mat-dialog-close>Close</button>\n</mat-dialog-actions>\n","import { EventEmitter, Injectable } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport { MapMarkerType } from '../map-marker-type.enum';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MapMarkerFilterController {\r\n\r\n  public eventFilterSelected: EventEmitter<MapMarkerType[]> = new EventEmitter<MapMarkerType[]>();\r\n\r\n  private _last: MapMarkerType[] = [];\r\n\r\n  public emit(types: MapMarkerType[]): void {\r\n    this._last = types;\r\n    this.eventFilterSelected.emit(types);\r\n  }\r\n\r\n  public update(): void {\r\n    this.emit(this._last);\r\n  }\r\n\r\n  public getFilter(): MapMarkerType[] {\r\n    return this._last;\r\n  }\r\n\r\n  public ensureEnabled(type: MapMarkerType): void {\r\n    if (!_.some(this._last, t => t === type)) {\r\n      this._last.push(type);\r\n      this.update();\r\n    }\r\n  }\r\n\r\n}\r\n","import * as _ from 'lodash';\nimport { Component, Injector, Input, OnInit, StaticProvider } from '@angular/core';\nimport { UUID } from 'angular2-uuid';\nimport { PanZoomConfig, PanZoomAPI, PanZoomConfigOptions } from 'ngx-panzoom';\nimport { Subscription } from 'rxjs';\nimport { connectableObservableDescriptor } from 'rxjs/internal/observable/ConnectableObservable';\nimport { MapMarker, MapMarkerOrigin } from './map-marker';\nimport { MapMarkerStorage } from './map-marker-storage';\nimport { MapMarkerType, MapMarkerTypeResource } from './map-marker-type.enum';\nimport { MapMarkerComponent } from './map-marker/map-marker.component';\nimport { MapMarkerFilterController } from './map-marker-filter/map-marker-filter.controller';\nimport { MapMarkerCityComponent } from './map-marker-city/map-marker-city.component';\nimport { MapApiProvider } from './map-api-provider';\nimport { MapMarkerEditorController } from './map-marker-editor/map-marker-editor.controller';\nimport { City, CityData } from './static-data';\n\nexport interface MapMarkerContainer {\n  mapMarker: MapMarker;\n  injector: Injector;\n  component: any;\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title: string = 'MedievalDynastyMap';\n  panZoomConfigOptions: PanZoomConfigOptions = {\n    zoomLevels: 12,\n    neutralZoomLevel: 5,\n    scalePerZoomLevel: 1.5,\n    freeMouseWheel: false,\n    invertMouseWheel: true,\n    zoomButtonIncrement: 0.4,\n    dynamicContentDimensions: true,\n    zoomOnDoubleClick: false,\n    initialZoomToFit: {x: 3870, y: 2946.7, width: window.innerWidth * 1.8, height: window.innerHeight * 1.8 }\n  };\n  panZoomConfig: PanZoomConfig = new PanZoomConfig(this.panZoomConfigOptions);\n  mapMarkers: Array<MapMarkerContainer> = [];\n  apiSubscription: Subscription;\n  isEditorOpen: boolean = false;\n\n  private _markerStorageAddedSubscription: Subscription;\n  private _markerStorageRemovedSubscription: Subscription;\n\n  constructor(\n    private injector: Injector,\n    private _mapMarkerStorage: MapMarkerStorage,\n    private _mapMarkerFilterController: MapMarkerFilterController,\n    private _mapApiProvider: MapApiProvider,\n    private _mapMarkerEditorController: MapMarkerEditorController,\n    private _cityData: CityData,\n  ) {\n    this._markerStorageAddedSubscription = _mapMarkerStorage.addedEvent.subscribe((marker: MapMarker) => this.addMapMarker(marker));\n    this._markerStorageRemovedSubscription = _mapMarkerStorage.removedEvent.subscribe((marker: MapMarker) => this.removeMapMarker(marker));\n  }\n\n  ngOnInit(): void {\n    this.apiSubscription = this.panZoomConfig.api.subscribe(\n      (api: PanZoomAPI) => {\n        this._mapApiProvider.setApi(api);\n    });\n\n    this._mapMarkerStorage.load();\n  }\n\n  center(): void {\n    this._mapApiProvider.centerContent();\n  }\n\n  onDoubleClick(event: MouseEvent): void {\n    const origin: MapMarkerOrigin = { x: event.offsetX, y: event.offsetY };\n    this._mapMarkerEditorController.eventOnCreateMapMarker.emit(origin);\n  }\n\n  getComponentTypeByMapMarkerType(type: MapMarkerType): any {\n    switch (type) {\n      case MapMarkerType.CITY:\n        return MapMarkerCityComponent;\n\n      default:\n        return MapMarkerComponent;\n    }\n  }\n\n  addMapMarker(mapMarker: MapMarker): void {\n    this.mapMarkers.push(\n      this.createMapMarkerContainer(mapMarker));\n  }\n\n  removeMapMarker(mapMarker: MapMarker): void {\n    const i = this.mapMarkers.findIndex(container => container.mapMarker.id == mapMarker.id);\n    this.mapMarkers.splice(i, 1);\n  }\n\n  removeAllMapMarker(): void {\n    this.mapMarkers = [];\n  }\n\n  createMapMarkerContainer(mapMarker: MapMarker): MapMarkerContainer {\n    const providers: StaticProvider[] = [\n      { provide: MapMarker, useValue: mapMarker }\n    ];\n    let component: any = MapMarkerComponent;\n    switch (mapMarker.type) {\n      case MapMarkerType.CITY:\n        component = MapMarkerCityComponent;\n        console.log(mapMarker.payloadId);\n        providers.push({ provide: City, useValue: this._cityData.cities.find(city => city.id == mapMarker.payloadId) });\n        break;\n      default: break;\n    }\n    let markerContainer: MapMarkerContainer = {\n      component,\n      mapMarker,\n      injector: Injector.create({\n        providers,\n        parent:this.injector\n      })\n    };\n\n    return markerContainer;\n  }\n\n  getMapMarkers(markerContainers: MapMarkerContainer[]): MapMarker[] {\n    const markers = [];\n    for (const marker of markerContainers) {\n      markers.push(marker.mapMarker);\n    }\n    return markers;\n  }\n\n  getCities(): Array<MapMarker> {\n    return this.mapMarkers\n      .filter(container => container.mapMarker.type == MapMarkerType.CITY)\n      .map(container => container.mapMarker);\n  }\n}\n","<div class=\"map__burger-bar-container\">\n  <mat-toolbar>\n    <button mat-icon-button aria-label=\"Toggle Menu\" (click)=\"menuBar.toggle()\">\n      <mat-icon>menu</mat-icon>\n    </button>\n    <span>Medieval Dynasty Map</span>\n    <span class=\"flex-spacer\"></span>\n\n    <a href=\"https://github.com/naice/MedievalDynastyMap\" target=\"_blank\" mat-icon-button>\n      <mat-icon>favorite</mat-icon>\n    </a>\n    <a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KXGFDMWVS8E66\" target=\"_blank\" mat-icon-button>\n      <mat-icon>attach_money</mat-icon>\n    </a>\n  </mat-toolbar>\n</div>\n<div>\n  <div class=\"map__container\">\n    <div class=\"map__wrappper\">\n      <pan-zoom [config]=\"panZoomConfig\">\n        <div style=\"position: relative;\">\n          <img class=\"no-select\"\n            src=\"assets/T_Map_Render.jpg\"\n            (dblclick)=\"onDoubleClick($event)\">\n          <div *ngFor=\"let marker of mapMarkers\">\n            <ng-container\n              *ngComponentOutlet=\"marker.component; injector: marker.injector\">\n            </ng-container>\n          </div>\n        </div>\n      </pan-zoom>\n    </div>\n    <div class=\"map__signature\"><span>made with </span><mat-icon style=\"color:red\">favorite</mat-icon><span> by Emmuss</span></div>\n  </div>\n    <app-menu-bar #menuBar [isOpen]=\"true\" class=\"\">\n        <mat-accordion>\n          <mat-expansion-panel>\n            <mat-expansion-panel-header>\n              <mat-panel-title>\n                Map Filter\n              </mat-panel-title>\n            </mat-expansion-panel-header>\n            <app-map-marker-filter></app-map-marker-filter>\n          </mat-expansion-panel>\n          <mat-expansion-panel>\n            <mat-expansion-panel-header>\n              <mat-panel-title>\n                Cities\n              </mat-panel-title>\n            </mat-expansion-panel-header>\n            <app-city-jumper [mapMarkers]=\"getCities()\"></app-city-jumper>\n          </mat-expansion-panel>\n          <mat-expansion-panel (opened)=\"isEditorOpen = true\" (closed)=\"isEditorOpen = false\">\n            <mat-expansion-panel-header>\n              Editor\n            </mat-expansion-panel-header>\n            <app-map-marker-editor [isEditorEnabled]=\"isEditorOpen\">\n            </app-map-marker-editor>\n          </mat-expansion-panel>\n        </mat-accordion>\n    </app-menu-bar>\n</div>\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { UUID } from 'angular2-uuid';\n\n@Component({\n  selector: 'app-upload-image',\n  templateUrl: './upload-image.component.html',\n  styleUrls: ['./upload-image.component.scss']\n})\nexport class UploadImageComponent implements OnInit {\n\n  @ViewChild('imgRenderer') imgRenderer: ElementRef;\n\n  public uploadedImageBlob: any;\n\n  ngOnInit(): void {\n\n  }\n\n  onPaste(event: any) {\n    const items = event.clipboardData.items;\n\n    for (const item of items) {\n      if (item.type.indexOf('image') !== 0) {\n        continue;\n      }\n      this.uploadedImageBlob = item.getAsFile();\n    }\n\n    if (this.uploadedImageBlob === null) {\n       return;\n    }\n\n    const guid = UUID.UUID();\n    const fileFromBlob: File = new File([this.uploadedImageBlob], `/assets/${guid}.jpg`);\n\n\n    const reader = new FileReader();\n    reader.onload = (evt: any) => {\n      this.imgRenderer.nativeElement.src = evt.target.result;\n    };\n    reader.readAsDataURL(this.uploadedImageBlob);\n  }\n}\n","<div class=\"container\" (paste)=\"onPaste($event)\">\n  <h1>upload image</h1>\n  <img #imgRenderer />\n</div>\n","import * as _ from 'lodash';\r\nimport { Subscription } from 'rxjs';\r\nimport { MapMarkerFilterController } from './map-marker-filter/map-marker-filter.controller';\r\nimport { MapMarker } from './map-marker';\r\nimport { MapMarkerStorage } from './map-marker-storage';\r\nimport { MapMarkerType, MapMarkerTypeResource } from './map-marker-type.enum';\r\nimport { MapMarkerEditorController } from './map-marker-editor/map-marker-editor.controller';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nexport abstract class MapMarkerBaseComponent extends MapMarkerTypeResource {\r\n\r\n  width: number = 264;\r\n  height: number = 264;\r\n  visible: boolean = true;\r\n  isEditMode: boolean = false;\r\n\r\n  protected _subscriptions: Array<Subscription> = [];\r\n\r\n  constructor(\r\n    public mapMarker: MapMarker,\r\n    protected _mapMarkerStorage: MapMarkerStorage,\r\n    protected _mapMarkerFilterController: MapMarkerFilterController,\r\n    private _mapMarkerEditorController: MapMarkerEditorController,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  OnDestroy(): void {\r\n    this._subscriptions.forEach(sub => sub.unsubscribe());\r\n  }\r\n\r\n  OnInit(): void {\r\n    this._subscriptions.push(\r\n      this._mapMarkerFilterController.eventFilterSelected.subscribe((types: MapMarkerType[]) => this.applyFilter(types)));\r\n    this._subscriptions.push(\r\n      this._mapMarkerEditorController.eventOnChangeEditMode.subscribe((isEditMode: boolean) => this.applyEditMode(isEditMode)));\r\n    this.applyEditMode(this._mapMarkerEditorController.isEditMode);\r\n    this.applyFilter(this._mapMarkerFilterController.getFilter());\r\n  }\r\n\r\n  applyEditMode(isEditMode: boolean) {\r\n    if (environment.production && this.mapMarker.type == MapMarkerType.CITY) {\r\n      // users should not be able to delete / edit cities for now.\r\n      return;\r\n    }\r\n    this.isEditMode = isEditMode;\r\n  }\r\n\r\n  applyFilter(types: MapMarkerType[]) {\r\n    const vis = _.some(types, marker => this.mapMarker.type === marker);\r\n    if (this.visible !== vis) {\r\n      this.visible = vis;\r\n    }\r\n  }\r\n\r\n  onDelete(): void {\r\n    this._mapMarkerStorage.remove(this.mapMarker.id);\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgModule } from '@angular/core';\nimport { NgxPanZoomModule } from 'ngx-panzoom';\n\nimport { AppComponent } from './app.component';\nimport { UploadImageComponent } from './upload-image/upload-image.component';\n\n//Angular Material Components\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatSliderModule} from '@angular/material/slider';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatListModule} from '@angular/material/list';\nimport {MatGridListModule} from '@angular/material/grid-list';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatStepperModule} from '@angular/material/stepper';\nimport {MatTabsModule} from '@angular/material/tabs';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\nimport {MatChipsModule} from '@angular/material/chips';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\nimport {MatTableModule} from '@angular/material/table';\nimport {MatSortModule} from '@angular/material/sort';\nimport {MatPaginatorModule} from '@angular/material/paginator';\nimport {MatRippleModule} from '@angular/material/core';\n\n\nimport { MapMarkerComponent } from './map-marker/map-marker.component';\nimport { MapMarkerEditorComponent } from './map-marker-editor/map-marker-editor.component';\nimport { LocalStorageProvider } from \"./kv-storage/local-storage-provider\";\nimport { FormsModule } from '@angular/forms';\nimport { MapMarkerFilterComponent } from './map-marker-filter/map-marker-filter.component';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { MapMarkerCityComponent } from './map-marker-city/map-marker-city.component';\nimport { CityJumperComponent } from './city-jumper/city-jumper.component';\nimport { KVStorageProvider } from './kv-storage/ik-storage-provider';\nimport { KVStorageProviderFactory } from './kv-storage/kv-storage-provider-factory';\nimport { MenuBarComponent } from './menu-bar/menu-bar.component';\nimport { CityDetailComponent } from './city-detail/city-detail.component';\nimport { GoodsToItemsPipe } from './goods-items.pipe';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    UploadImageComponent,\n    MapMarkerComponent,\n    MapMarkerEditorComponent,\n    MapMarkerFilterComponent,\n    MapMarkerCityComponent,\n    CityJumperComponent,\n    MenuBarComponent,\n    CityDetailComponent,\n    GoodsToItemsPipe\n  ],\n  imports: [\n    FormsModule,\n    BrowserModule,\n    HttpClientModule,\n    NgxPanZoomModule,\n    BrowserAnimationsModule,\n\n    // Material Components\n    MatCheckboxModule,\n    MatCheckboxModule,\n    MatButtonModule,\n    MatInputModule,\n    MatAutocompleteModule,\n    MatDatepickerModule,\n    MatFormFieldModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatMenuModule,\n    MatSidenavModule,\n    MatToolbarModule,\n    MatListModule,\n    MatGridListModule,\n    MatCardModule,\n    MatStepperModule,\n    MatTabsModule,\n    MatExpansionModule,\n    MatButtonToggleModule,\n    MatChipsModule,\n    MatIconModule,\n    MatProgressSpinnerModule,\n    MatProgressBarModule,\n    MatDialogModule,\n    MatTooltipModule,\n    MatSnackBarModule,\n    MatTableModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatRippleModule,\n  ],\n  providers: [\n    { provide: KVStorageProvider, useFactory: KVStorageProviderFactory, deps: [ HttpClient ] }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\r\nimport { PanZoomAPI } from 'ngx-panzoom';\r\n\r\nexport interface MapApiRectangle {\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MapApiProvider {\r\n  private api: PanZoomAPI;\r\n  setApi(api: PanZoomAPI): void {\r\n    this.api = api;\r\n  }\r\n\r\n  navigateToRect(rect: MapApiRectangle): void {\r\n    this.api?.zoomToFit({ ...rect });\r\n  }\r\n\r\n  centerContent(): void {\r\n    this.api?.centerContent();\r\n  }\r\n}\r\n","\r\nexport const MAP_MENU_WIDTH = 376;\r\n","export enum MapMarkerType {\n  BOAR = \"Boar\",\n  BEAR = \"Bear\",\n  DOE = \"Doe\",\n  BUCK = \"Buck\",\n  WOLF = \"Wolf\",\n  RABBIT = \"Rabbit\",\n  FOX = \"Fox\",\n  WISENT = \"Wisent\",\n  CAVE = \"Cave\",\n  CLAY_DEPOSIT = \"Clay Deposit\",\n  CITY = \"City\",\n  //PERSON = \"Person\",\n}\n\nexport class MapMarkerTypeResource {\n  public getImageSrc(type: MapMarkerType): string {\n    return `assets/markers/${type}.png`.toLowerCase();\n  }\n  public getImageSrcUrl(type: MapMarkerType): string {\n    return `url(\"${this.getImageSrc(type)}\")`;\n  }\n}\n","import { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LocalStorageProvider } from './local-storage-provider';\r\nimport { RemoteStorageProvider } from './remote-storage-provider';\r\n\r\nexport abstract class KVStorageProvider {\r\n  abstract store<T>(key: string, data: T): Observable<boolean>;\r\n  abstract load<T>(key: string, defaultValue?: T): Observable<T>;\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Good, Item, ItemData, } from './static-data';\n\n@Pipe({\n  name: 'goodsToItems'\n})\nexport class GoodsToItemsPipe implements PipeTransform {\n\n  constructor(\n    private _itemData: ItemData,\n  ) {\n  }\n\n  transform(value: Good[]): Item[] {\n    return value.map(good => {\n      const item: Item = { ...this._itemData.getItemByGood(good) };\n      item.price = good.price;\n      return item;\n    });\n  }\n\n}\n","import { Component, EventEmitter, Inject, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { LocalStorageProvider } from '../kv-storage/local-storage-provider';\nimport { MapMarkerType, MapMarkerTypeResource } from '../map-marker-type.enum';\nimport { MapMarkerFilterController } from './map-marker-filter.controller';\n\n@Component({\n  selector: 'app-map-marker-filter',\n  templateUrl: './map-marker-filter.component.html',\n  styleUrls: ['./map-marker-filter.component.scss']\n})\nexport class MapMarkerFilterComponent extends MapMarkerTypeResource implements OnInit, OnDestroy {\n  @Input()\n  public selectedMapMarkerTypes: MapMarkerType[];\n  public mapMarkerTypes: MapMarkerType[] = Object.keys(MapMarkerType).map(k=> MapMarkerType[k]);\n  public storageKey: string = 'selectedMapMarkerTypes';\n\n  private subs: Subscription[] = [];\n\n  constructor(\n    private _storageProvider: LocalStorageProvider,\n    private _mapMarkerFilterController: MapMarkerFilterController\n  ) { super(); }\n\n  ngOnDestroy(): void {\n    this.subs.forEach(sub => sub.unsubscribe());\n  }\n\n  ngOnInit(): void {\n    this.subs.push(\n      this._storageProvider.load(this.storageKey, Object.keys(MapMarkerType).map(k=> MapMarkerType[k]))\n        .subscribe(types => this.selectedMapMarkerTypes = types));\n    this.mapMarkerFilterChanged();\n  }\n\n  mapMarkerFilterChanged(): void {\n    this._mapMarkerFilterController.emit(this.selectedMapMarkerTypes);\n    this._storageProvider.store(this.storageKey, this.selectedMapMarkerTypes);\n  }\n\n  selectAll(): void {\n    this.selectedMapMarkerTypes = this.mapMarkerTypes;\n    this.mapMarkerFilterChanged();\n  }\n\n  selectNone(): void {\n    this.selectedMapMarkerTypes = [];\n    this.mapMarkerFilterChanged();\n  }\n\n  selectInvert(): void {\n    const selection: MapMarkerType[] = [];\n    for (const type of this.mapMarkerTypes) {\n      if (this.selectedMapMarkerTypes.indexOf(type) >= 0) {\n        continue;\n      }\n      selection.push(type);\n    }\n    this.selectedMapMarkerTypes = selection;\n    this.mapMarkerFilterChanged();\n  }\n}\n","<div class=\"filter__button-container\">\n  <div>\n    <button mat-raised-button color=\"primary\" (click)=\"selectAll()\">All</button>\n  </div>\n  <div>\n    <button mat-raised-button color=\"primary\" (click)=\"selectNone()\">None</button>\n  </div>\n  <div>\n    <button mat-raised-button color=\"primary\" (click)=\"selectInvert()\">Invert</button>\n  </div>\n</div>\n<mat-selection-list [(ngModel)]=\"selectedMapMarkerTypes\" (ngModelChange)=\"mapMarkerFilterChanged()\">\n  <mat-list-option [value]=\"markerType\" *ngFor=\"let markerType of mapMarkerTypes\">\n    <img matListAvatar [src]=\"getImageSrc(markerType)\" class=\"no-select\">\n    <span class=\"no-select\">{{markerType}}</span>\n  </mat-list-option>\n</mat-selection-list>\n","import { Injectable } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { CityDetailComponent, CityDetailDialogData } from './city-detail/city-detail.component';\r\nimport { City, ItemData, PersonData } from './static-data';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class CityDetailDialogProvider {\r\n\r\n  constructor(\r\n    private _dialog: MatDialog,\r\n    private _personData: PersonData,\r\n    private _itemData: ItemData,\r\n  ) { }\r\n\r\n  showCityDialog(city: City): void {\r\n    const persons = this._personData.getPersonsByCity(city);\r\n    const dialogData: CityDetailDialogData = {\r\n      city, persons,\r\n    };\r\n    this._dialog.open(CityDetailComponent, {\r\n      data: dialogData,\r\n    });\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { MAP_MENU_WIDTH } from '../app.constants';\nimport { CityDetailDialogProvider } from '../city-detail-dialog-provider';\nimport { MapApiProvider, MapApiRectangle } from '../map-api-provider';\nimport { MapMarker } from '../map-marker';\nimport { CityData } from '../static-data';\n\n@Component({\n  selector: 'app-city-jumper',\n  templateUrl: './city-jumper.component.html',\n  styleUrls: ['./city-jumper.component.scss']\n})\nexport class CityJumperComponent implements OnInit {\n\n  @Input() mapMarkers: MapMarker[];\n\n  constructor(\n    private _mapApiProvider: MapApiProvider,\n    public cityData: CityData,\n    public dialogProvider: CityDetailDialogProvider,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  getCityName(mapMarker: MapMarker): string {\n    return this.cityData.getCityBy(mapMarker)?.name;\n  }\n  onNavigateToCity(mapMarker: MapMarker) {\n    const width = window.innerWidth * 1.8;\n    const height = window.innerHeight * 1.8;\n    const rect: MapApiRectangle = {\n      x: mapMarker.origin.x - (width / 2),\n      y: mapMarker.origin.y - (height / 2),\n      width: width,\n      height: height\n    };\n    console.log('jumping to', rect);\n    this._mapApiProvider.navigateToRect(rect);\n  }\n  onOpenCityDetail(event: any, marker: MapMarker) {\n    event.stopPropagation();\n    this.dialogProvider.showCityDialog(this.cityData.getCityBy(marker))\n  }\n}\n","<mat-nav-list>\n  <h3 matSubheader>Select a city to jump to</h3>\n\t<a mat-list-item *ngFor=\"let marker of mapMarkers\" (click)=\"onNavigateToCity(marker)\">\n    <span matLine>{{getCityName(marker)}}</span>\n\n    <button mat-icon-button (click)=\"onOpenCityDetail($event, marker)\">\n      <mat-icon class=\"mat-24\">read_more</mat-icon>\n    </button>\n\t</a>\n</mat-nav-list>\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}